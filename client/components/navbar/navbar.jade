div.navbar.navbar-default.navbar-static-top(ng-controller='NavbarCtrl')
  div.container
    div.navbar-header
      button.navbar-toggle(type='button', ng-click='isCollapsed = !isCollapsed')
        span.sr-only Toggle navigation
        span.icon-bar
        span.icon-bar
        span.icon-bar
      a.navbar-brand(ui-sref='main') Boardgame Tournament

    div#navbar-main.navbar-collapse.collapse(collapse='isCollapsed')
      ul.nav.navbar-nav
        //-li(ng-repeat='item in menu', ng-class='{active: isActive(item.link)}')
          //-a(ui-sref='{{item.state}}') {{item.title}}

        li.dropdown.open(ng-show='isLoggedIn()')
          a.dropdown-toggle(href='#', data-toggle='dropdown', role='button', aria-haspopup='true', aria-expanded='true') Tournaments #[span.caret]
          ul.dropdown-menu
            li
              a(ui-sref='tournaments') Overview
            li.divider(role='separator')
            li.dropdown-header Shortcuts
            li(ng-repeat='tournament in tournaments.getAll()')
              a(ui-sref='tournament({slug:tournament.slug})') {{tournament.name}}

        //-li(ng-hide='tournaments.getActive()._id')
          //-a(ui-sref='tournaments') Tournaments

        li(ng-hide='tournaments.getActive()._id')
          a(ui-sref='tournaments') {{tournaments.getActive().name}}

        // tournament navigation
        li(ng-show='tournament._id', ui-sref-active='active')
          a(ui-sref='tournament.games') Games

        li(ng-show='tournament._id', ui-sref-active='active')
          a(ui-sref='tournament.players') Players

        li(ng-show='tournament._id', ui-sref-active='active')
          a(ui-sref='tournament.gameresults') Results

        //-li(ng-show='isAdmin()', ng-class='{active: isActive("/admin")}')
          //-a(href='/admin') Admin

      ul.nav.navbar-nav.navbar-right

        // active tournament
        li(ng-show='tournament._id')
          a(href='#', ui-sref='tournament')
            span.label.label-danger.active-tournament-label {{tournament.name}}

        li(ng-hide='isLoggedIn()', ng-class='{active: isActive("/signup")}')
          a(href='/signup') Sign up

        li(ng-hide='isLoggedIn()', ng-class='{active: isActive("/login")}')
          a(href='/login') Login

        li(ng-show='isLoggedIn()', ui-sref-active='active')
          a(ui-sref='settings') {{getCurrentUser().name}}

        li(ng-show='isLoggedIn()', ng-class='{active: isActive("/logout")}')
          a(href='', ng-click='logout()') Logout
