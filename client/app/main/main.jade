div(ng-include='"components/navbar/navbar.html"')

header#banner.hero-unit
  .container
    h1 Boardgame Tournament
    p.lead {{lead}}
    img.trophy(src='assets/images/trophy.png', alt='Boardgame Tournament Trophy')

.container
  .row
    .col-md-12
      h2 Tournaments
  .row
    .col-md-6
      form(ng-submit='search()')
        label Search Tournaments
        .input-group
          input.form-control(ng-model='query', placeholder='Search tournaments by name...')
          span.input-group-btn
            button.btn.btn-primary(ng-disabled='!query', type='submit') Find Tournament!
  .row.mtop
    .col-md-12
      h4(ng-hide='foundTournaments') Recent Tournaments
      h4.ng-hide(ng-show='foundTournaments')

  .row(ng-show='!foundTournaments && !loading')
    .col-md-4(ng-repeat='tournament in allTournaments')
      tournament-callout(tournament='tournament')
  .row.ng-hide(ng-show='foundTournaments && !loading')
    .col-md-4(ng-repeat='tournament in foundTournaments')
      tournament-callout(tournament='tournament')
  .row(ng-hide='!loading')
    .loading
      span.loading-spinner
      p.loading-text Loading BoardgameGeek Infos...
  .row(ng-show='!loading && foundTournaments && !foundTournaments.length')
    .col-md-6
      .alert.alert-dismissible.alert-warning
        h4 No Tournaments found
        p Sorry, no tournaments found with "{{query}}" in the name. Try something else... 
        p ... or show #[a(href='#', ng-click='foundTournaments = null') show recent tournaments] 

footer.footer
  .container
